<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Running Tachyon on a Cluster - Octopus 0.1 Documentation</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }
    </style>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>

    <link rel="stylesheet" href="css/pygments-default.css">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-47563775-2', 'tachyon-project.org');
        ga('send', 'pageview');
    </script>

</head>
<body>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade
    your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install
    Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->

<!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

<div class="navbar navbar-fixed-top" id="topbar">
    <div class="navbar-inner">
        <div class="container">
            <div class="brand">
                <div style="position:absolute;">
                    <a href="index.html">
                        <img src="img/logo.png" alt="Octopus Logo" style="height:50px;"/>
                    </a>
                </div>
				<div style="float:right;margin-top:30px;">
					<span class="version">0.1</span>
				</div>
            </div>
            <ul class="nav">
                <li><a href="index.html">Overview</a></li>

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Programming Guides<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="Quick-Start.html">Quick Start</a></li>
                        <li><a href="Examples.html">Examples</a></li>
                        <li><a href="ML-Library.html">ML Library</a></li>
						<li><a href="API-Docs.html">API Docs</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Deploying<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="Pre-built-Ones.html">Pre-built Ones</a></li>
						<li><a href="Running-Octopus-Locally.html">Local Mode</a></li>
						<li><a href="Running-Octopus-on-a-Cluster.html">Cluster Mode</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="FAQ.html">FAQ</a></li>
                        <li><a href="http://pasa-bigdata.nju.edu.cn:61111/jira/browse/OCT/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">JIRA</a></li>
                        <li><a href="https://groups.google.com/forum/#!forum/octopus-user">Mail List</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="Configuration-Settings.html">Configuration Settings</a></li>
                        <li><a href="Download.html">Download</a></li>
						<li><a href="R-IDEs.html">User IDEs</a></li>
                        <li><a href="Development.html">Development</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="container" id="content">
    <h1 class="title">Running Tachyon on a Cluster</h1>

    <h2 id="standalone-cluster">Standalone cluster</h2>

<p>First download the <code>Tachyon</code> tar file, and extract it.</p>

<pre><code>$ wget http://tachyon-project.org/downloads/tachyon-0.5.0-bin.tar.gz
$ tar xvfz tachyon-0.5.0-bin.tar.gz
</code></pre>

<p>In the <code>tachyon/conf</code> directory, copy <code>tachyon-env.sh.template</code> to <code>tachyon-env.sh</code>. Make sure
<code>JAVA_HOME</code> points to a valid Java 6/7 installation. Add the IP addresses of all the slaves to the
<code>tachyon/conf/slaves</code> file. Finally, sync all the information to worker nodes.</p>

<p>Now, you can start Tachyon:</p>

<pre><code>$ cd tachyon
$ ./bin/tachyon format
$ ./bin/tachyon-start.sh # use the right parameters here. e.g. all Mount
</code></pre>

<p>To verify that Tachyon is running, you can visit
<a href="http://tachyon.master.hostname:19999">http://tachyon.master.hostname:19999</a>, check the log in the
folder tachyon/logs, or run a sample program:</p>

<pre><code>$ ./bin/tachyon runTests
</code></pre>

<p><strong>Note</strong>: If you are using EC2, make sure the security group settings on the master node allow
 incoming connections on the tachyon web UI port.</p>

<h2 id="using-the-bootstrap-conf-argument-to-the-bintachyon-script">Using the bootstrap-conf argument to the bin/tachyon script</h2>

<p>The tachyon script also contains logic to create a basic config for a
cluster.  If you run:</p>

<pre><code>$ cd tachyon
$ ./bin/tachyon bootstrap-conf &lt;tachyon_master_hostname&gt;
</code></pre>

<p>and there is no existing <code>tachyon/conf/tachyon-env.sh</code> file, then the
script will create one with the appropriate settings for a cluster
with a master node running at <code>&lt;tachyon_master_hostname&gt;</code>.</p>

<p>This script needs to be run on each node you wish to configure.</p>

<p>The script will configure your workers to use 2/3 of the total memory
on each worker.  This amount can be changed by editing the created
<code>tachyon/conf/tachyon-env.sh</code> file on the worker.</p>

<h2 id="ec2-cluster-with-spark">EC2 cluster with Spark</h2>

<p>If you use Spark to launch an EC2 cluster, <code>Tachyon</code> will be installed and configured by default.</p>

<h2 id="deploy-tachyon-cluster-via-vagrant">Deploy Tachyon Cluster via Vagrant</h2>

<p><a href="https://www.vagrantup.com/downloads.html">Vagrant</a> can spawn Tachyon cluster locally on <a href="https://www.virtualbox.org/">VirtualBox</a> or in the cloud at <a href="http://aws.amazon.com/vpc/">AWS EC2 VPC</a>. </p>

<p>A set of pre-configured Vagrant recipe and shell scripts can be found at <code>tachyon/deploy/vagrant</code> directory:
<code>
vagrant
├── ec2-config.yml
├── glusterfs
│   ├── init.sh
│   └── post.sh
├── hadoop2
│   ├── init.sh
│   └── post.sh
├── init.sh
├── init.yml -&gt; init.yml.hdfs2
├── init.yml.aws
├── init.yml.glusterfs
├── init.yml.hdfs2
├── README.md
├── start_tachyon_cluster.sh
└── Vagrantfile
</code></p>

<p>To start a Tachyon cluster on VirtualBox, first edit <code>init.yml</code>, set the under filesystems and other parameters. Then run </p>

<pre><code>$ vagrant up 
</code></pre>

<p>To spawn a Tachyon cluster on AWS VPC, run command</p>

<pre><code>$ vagrant up --provider=aws
</code></pre>

<p>Detailed instruction can be found in <code>tachyon/deploy/vagrant/README.md</code>. </p>


    <!-- Main hero unit for a primary marketing message or call to action -->
    <!--<div class="hero-unit">
        <h1>Hello, world!</h1>
        <p>This is a template for a simple marketing or informational website. It includes a large callout called the hero unit and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
        <p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>
            </div>-->

    <!-- Example row of columns -->
    <!--<div class="row">
        <div class="span4">
            <h2>Heading</h2>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn" href="#">View details &raquo;</a></p>
                </div>
                <div class="span4">
                    <h2>Heading</h2>
                    <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                    <p><a class="btn" href="#">View details &raquo;</a></p>
               </div>
                <div class="span4">
                    <h2>Heading</h2>
                    <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
                    <p><a class="btn" href="#">View details &raquo;</a></p>
                </div>
            </div>

            <hr>-->

    <footer>
        <hr>
        <p style="text-align: center; veritcal-align: middle; color: #999;">
            Octopus is a project developed at the Nanjing University
            <a href="http://pasa-bigdata.nju.edu.cn/">
                PASALab.
            </a> All Rights Reserved.
        </p>
    </footer>

</div>
<!-- /container -->

<script src="js/vendor/jquery-1.8.0.min.js"></script>
<script src="js/vendor/bootstrap.min.js"></script>
<script src="js/main.js"></script>

<!-- A script to fix internal hash links because we have an overlapping top bar.
     Based on https://github.com/twitter/bootstrap/issues/193#issuecomment-2281510 -->
<script>
    $(function () {
        function maybeScrollToHash() {
            if (window.location.hash && $(window.location.hash).length) {
                var newTop = $(window.location.hash).offset().top - $('#topbar').height() - 5;
                $(window).scrollTop(newTop);
            }
        }

        $(window).bind('hashchange', function () {
            maybeScrollToHash();
        });
        // Scroll now too in case we had opened the page on a hash, but wait 1 ms because some browsers
        // will try to do *their* initial scroll after running the onReady handler.
        setTimeout(function () {
            maybeScrollToHash();
        }, 1)
    })
</script>

</body>
</html>
