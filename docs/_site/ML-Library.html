<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>ML-Library - Octopus 0.1 Documentation</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }
    </style>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>

    <link rel="stylesheet" href="css/pygments-default.css">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-47563775-2', 'tachyon-project.org');
        ga('send', 'pageview');
    </script>

</head>
<body>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade
    your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install
    Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->

<!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

<div class="navbar navbar-fixed-top" id="topbar">
    <div class="navbar-inner">
        <div class="container">
            <div class="brand">
                <div style="position:absolute;">
                    <a href="index.html">
                        <img src="img/logo.png" alt="Octopus Logo" style="height:50px;"/>
                    </a>
                </div>
				<div style="float:right;margin-top:30px;">
					<span class="version">0.1</span>
				</div>
            </div>
            <ul class="nav">
                <li><a href="index.html">Overview</a></li>

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Programming Guides<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="Quick-Start.html">Quick Start</a></li>
                        <li><a href="Examples.html">Examples</a></li>
                        <li><a href="ML-Library.html">ML Library</a></li>
						<li><a href="API-Docs.html">API Docs</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Deploying<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="Pre-built-Ones.html">Pre-built Ones</a></li>
						<li><a href="Running-Octopus-Locally.html">Local Mode</a></li>
						<li><a href="Running-Octopus-on-a-Cluster.html">Cluster Mode</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="FAQ.html">FAQ</a></li>
                        <li><a href="http://pasa-bigdata.nju.edu.cn:61111/jira/browse/OCT/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">JIRA</a></li>
                        <li><a href="https://groups.google.com/forum/#!forum/octopus-user">Mail List</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<b
                            class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="Configuration-Settings.html">Configuration Settings</a></li>
                        <li><a href="Download.html">Download</a></li>
						<li><a href="R-IDEs.html">User IDEs</a></li>
                        <li><a href="Development.html">Development</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="container" id="content">
    <h1 class="title">ML-Library</h1>

    <p>Octopus provides a Machine Learning Library, which is built upon the OctMatrix package and contains several useful machine learning algorithms. This part describes what ML-Library contains and how to use them.</p>

<ul>
  <li>Classification and regression
    <ul>
      <li><a href="ML-Library.html#linear-regression">Linear Regression</a></li>
      <li><a href="ML-Library.html#logistic-regression">Logistic Regression</a></li>
      <li><a href="ML-Library.html#softmax">Softmax</a></li>
      <li><a href="ML-Library.html#linear-svm">Linear Support Vector Machine (SVM)</a></li>
    </ul>
  </li>
  <li>Clustering
    <ul>
      <li><a href="ML-Library.html#k-means">K-Means</a></li>
    </ul>
  </li>
  <li>Feature extraction
    <ul>
      <li><a href="ML-Library.html#deep-neural-network">Deep Neural Network</a></li>
    </ul>
  </li>
</ul>

<h2 id="linear-regression">Linear Regression</h2>

<pre><code>source("OCTOPUS_HOME/R/ml-library/linear_regression.R")
</code></pre>

<p>There are two functions, one to train a linear regression model and another to calculate the regression value.</p>

<pre><code>linear_regression &lt;- function(x, label)
# Train a linear regression model: label = x %*% param, where param is an OctMatrix.
# x: an OctMatrix, where each row represents an observation.
# label: value of each observation.
</code></pre>

<p><br /></p>

<pre><code>predict.oct_lm_param &lt;- function(model, x)
# Calculate the regression value with a linear regression model. Return a one-column OctMatrix, where each row represents regression value of a observation.
# model: a linear regression model trained by linear_regression(...).
# x: an OctMatrix, where each row represents an observation.
</code></pre>

<p>See the linear regression application example in <code>$OCTOPUS_HOME/R/examples/app/app_lm_weight_height.R</code></p>

<h2 id="logistic-regression">Logistic Regression</h2>

<pre><code>source("OCTOPUS_HOME/R/ml-library/lr.R")
</code></pre>

<p>There are two functions, one to train a logistic regression classifier model and another to predict.</p>

<pre><code>train.lr &lt;- function(x, y, iters, stepSize)
# Train a logistic regression classifier with hinge loss. Return the weights.
# x: an OctMatrix, where each row represents an observation.
# y: an OctMatrix, where each row represents the label of an observation.
# iters: number of iterations.
# stepSize: the step for gradient.
</code></pre>

<p><br /></p>

<pre><code>predict.lr &lt;- function(model, x)
# Predict data x with a logistic regression classifier. Return the labels.
# model: the logistic regression classifier model, which is the weights returned by train.lr(...).
# x: an OctMatrix, where each row represents an observation.
</code></pre>

<p>See the logistic regression application example in <code>$OCTOPUS_HOME/R/examples/app/lr.R</code></p>

<h2 id="softmax">Softmax</h2>

<pre><code>source("OCTOPUS_HOME/R/ml-library/softmax.R")
</code></pre>

<p>There are two functions, one to train a softmax classifier model and another to predict.</p>

<pre><code>softmax &lt;- function(data, label, lambda = 0.0003, alpha = 0.1, max_iter = 1000, engineType = "R")
# Train a softmax classifier. Return an OctMatrix which represents the weights.
# data: an OctMatrix, where each row represents an observation.
# label: a VECTOR, which is the true classifications of data.
# max_iter: the maximum number of iterations.
# alpha: learning rate of each iteration.
# lambda: indicates how important the weight decay term is. Assuming the importance of lost function (e.g. 0.5 * (y - f(x))^2 ) is 1.
# engine_type: platform to compute, which is one of "R", "Spark", "Mpi" and "Hadoop".
</code></pre>

<p><br /></p>

<pre><code>predict.oct_softmax_param &lt;- function(model, data, engineType = "R")
# Predict data x with a softmax classifier. Return two OctMatrix, 'vector' and 'matrix'.  'vector' represents the class of each observation belongs to and 'matrix' is the probability matrix.
# model: the softmax classifier model trained by softmax(...).
# data: an OctMatrix, where each row represents an observation.
</code></pre>

<p>See the softmax application example in <code>$OCTOPUS_HOME/R/examples/app/app_softmax_sentiment.R</code></p>

<h2 id="linear-svm">Linear SVM</h2>

<pre><code>source("OCTOPUS_HOME/R/ml-library/svm.R")
</code></pre>

<p>There are two functions, one to train a svm classifier model and another to predict.</p>

<pre><code>train.svm &lt;- function(x, y, iters, stepSize)
# Train a svm classifier with hinge loss. Return the weights.
# x: an OctMatrix, where each row represents an observation.
# y: an OctMatrix, where each row represents the label of an observation.
# iters: number of iterations.
# stepSize: the step for gradient.
</code></pre>

<p><br /></p>

<pre><code>predict.svm &lt;- function(model, x)
# Predict data x with a svm classifier. Return the labels.
# model: the svm classifier model, which is the weights returned by train.svm(...).
# x: an OctMatrix, where each row represents an observation.
</code></pre>

<p>See the svm application example in <code>$OCTOPUS_HOME/R/examples/app/svm.R</code></p>

<h2 id="k-means">K-Means</h2>

<pre><code>source("OCTOPUS_HOME/R/ml-library/kmeans.R")
</code></pre>

<p>There is one functions which trains a k-means model to calculate the centers of each cluster.</p>

<pre><code>kmeans.OctMatrix &lt;- function(data, clusters, max_iter = 3)
# Train a k-means model. Return two OctMatrix, 'centers' and 'vector'.  'centers' represents the coordinates of each center and 'vector' is a one-column OctMatrix of integers (from 1:k) indicating the cluster to which each point is allocated.
# data: an OctMatrix, where each row represents an observation.
# clusters: num of clusters.
# max_iter: the maximum number of iterations.
</code></pre>

<p>See the k-means application example in <code>$OCTOPUS_HOME/R/examples/app/app_kmeans_iris.R</code></p>

<h2 id="deep-neural-network">Deep Neural Network</h2>

<pre><code>source("OCTOPUS_HOME/R/ml-library/deep_neural_network.R")
</code></pre>

<p>There are two functions, one to train a stacked-autoencoder model and another to extract features with the stacked-autoencoder.</p>

<pre><code>deep_neural_network &lt;- function(data, nodes, output = "param", max_iter = 10, back_iter = 10, beta = 0.2, rho = 0.05, lambda = 0.003, alpha = 0.1, fun = "sigmod", supervised = "none", label = NULL, engine_type = "R")
# Train a stacked-autoencoder. Return the model, which consists of weight item 'w' and bias item 'b', both length are 2 * layer num.
# data: an OctMatrix, where each row represents an observation.
# engine_type: platform to compute, which is one of "R", "Spark", "Mpi" and "Hadoop".
# nodes: a vector, which represents the ith hidden layer has nodes[i] neuron(s).
# max_iter: the maximum number of iterations during pre-training of each hidden-layer.
# back_iter: the maximum number of iterations during fine-tuning using back propagation.
# fun: activation function. Now only support "sigmod".
# alpha: learning rate of each iteration.
# lambda: indicates how important the weight decay term is. Assuming the importance of lost function (e.g. 0.5 * (y - f(x))^2 ) is 1.
# beta: indicates how important the sparsity penalty term is. Assuming the importance of lost function (e.g. 0.5 * (y - f(x))^2 ) is 1.
# rho: sparsity parameter, e.g. if I want 5% of neurons activated, then rho = 0.05.
</code></pre>

<p><br /></p>

<pre><code>predict.DNN_extractor &lt;- function(model, data, output = "feature")
# Extract features with a stacked-autoencoder model. Return an OctMatrix, where each row represents an observation.
# model: the stacked-autoencoder model, which is trained by deep_neural_network(...).
# data: an OctMatrix, where each row represents an observation.
# output: what you want. "feature" means feature_extraction and "decode" means encode/decode.
</code></pre>

<p>See the deep nerual network application example in <code>$OCTOPUS_HOME/R/examples/app/app_dnn_mnist.R</code></p>

    <!-- Main hero unit for a primary marketing message or call to action -->
    <!--<div class="hero-unit">
        <h1>Hello, world!</h1>
        <p>This is a template for a simple marketing or informational website. It includes a large callout called the hero unit and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
        <p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>
            </div>-->

    <!-- Example row of columns -->
    <!--<div class="row">
        <div class="span4">
            <h2>Heading</h2>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn" href="#">View details &raquo;</a></p>
                </div>
                <div class="span4">
                    <h2>Heading</h2>
                    <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                    <p><a class="btn" href="#">View details &raquo;</a></p>
               </div>
                <div class="span4">
                    <h2>Heading</h2>
                    <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
                    <p><a class="btn" href="#">View details &raquo;</a></p>
                </div>
            </div>

            <hr>-->

    <footer>
        <hr>
        <p style="text-align: center; veritcal-align: middle; color: #999;">
            Octopus is a project developed at the Nanjing University
            <a href="http://pasa-bigdata.nju.edu.cn/">
                PASALab.
            </a> All Rights Reserved.
        </p>
    </footer>

</div>
<!-- /container -->

<script src="js/vendor/jquery-1.8.0.min.js"></script>
<script src="js/vendor/bootstrap.min.js"></script>
<script src="js/main.js"></script>

<!-- A script to fix internal hash links because we have an overlapping top bar.
     Based on https://github.com/twitter/bootstrap/issues/193#issuecomment-2281510 -->
<script>
    $(function () {
        function maybeScrollToHash() {
            if (window.location.hash && $(window.location.hash).length) {
                var newTop = $(window.location.hash).offset().top - $('#topbar').height() - 5;
                $(window).scrollTop(newTop);
            }
        }

        $(window).bind('hashchange', function () {
            maybeScrollToHash();
        });
        // Scroll now too in case we had opened the page on a hash, but wait 1 ms because some browsers
        // will try to do *their* initial scroll after running the onReady handler.
        setTimeout(function () {
            maybeScrollToHash();
        }, 1)
    })
</script>

</body>
</html>
